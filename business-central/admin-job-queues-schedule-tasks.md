---
title: Programmer des projets à exécuter automatiquement
description: Les tâches programmées sont gérées par la file d'attente des travaux. Ces projets exécutent des rapports et des codeunits. Vous pouvez définir des projets à exécuter une fois, ou sur une base récurrente.
author: edupont04
ms.service: dynamics365-business-central
ms.topic: article
ms.devlang: na
ms.tgt_pltfrm: na
ms.workload: na
ms.search.keywords: ''
ms.date: 01/12/2021
ms.author: edupont
ms.openlocfilehash: 29b5b3f633b0fd9fcac648f0bf7149b87ae0b20d
ms.sourcegitcommit: 311e86d6abb9b59a5483324d8bb4cd1be7949248
ms.translationtype: HT
ms.contentlocale: fr-CA
ms.lasthandoff: 01/15/2021
ms.locfileid: "5013956"
---
# <a name="use-job-queues-to-schedule-tasks"></a><span data-ttu-id="b374b-105">Utiliser des files d'attente des travaux pour programmer des tâches</span><span class="sxs-lookup"><span data-stu-id="b374b-105">Use Job Queues to Schedule Tasks</span></span>

<span data-ttu-id="b374b-106">Des files d'attente des travaux dans [!INCLUDE[prod_short](includes/prod_short.md)] permettent aux utilisateurs de programmer et d’exécuter des rapports et codeunits spécifiques.</span><span class="sxs-lookup"><span data-stu-id="b374b-106">Job queues in [!INCLUDE[prod_short](includes/prod_short.md)] enable users to schedule and run specific reports and codeunits.</span></span> <span data-ttu-id="b374b-107">Vous pouvez définir des projets à exécuter une fois, ou sur une base récurrente.</span><span class="sxs-lookup"><span data-stu-id="b374b-107">You can set jobs to run one time, or on a recurring basis.</span></span> <span data-ttu-id="b374b-108">Par exemple, vous souhaiterez peut-être exécuter le rapport **Statistiques \* vente représentant** sur une base hebdomadaire, pour suivre les ventes par représentant chaque semaine, ou exécuter le codeunit **Déléguer les demandes d’approbation** quotidiennement, pour empêcher les documents de s’empiler ou de bloquer le flux de travail.</span><span class="sxs-lookup"><span data-stu-id="b374b-108">For example, you might want to run the **Salesperson \* Sales Statistics** report weekly, to track sales by salesperson each week, or you might want to run the **Delegate Approval Requests** codeunit daily, to prevent documents from piling up or otherwise block the workflow.</span></span>

<span data-ttu-id="b374b-109">La page **Écritures file d'attente des travaux** répertorie tous les projets existants.</span><span class="sxs-lookup"><span data-stu-id="b374b-109">The **Job Queue Entries** page lists all existing jobs.</span></span> <span data-ttu-id="b374b-110">Si vous ajoutez une nouvelle écriture file d'attente des travaux que vous voulez programmer, vous devez spécifier des informations sur le type d'objet à exécuter, par exemple un rapport ou un codeunit, ainsi que le nom et le code de l'objet que vous voulez exécuter.</span><span class="sxs-lookup"><span data-stu-id="b374b-110">If you add a new job queue entry that you want to schedule, you must specify information about the type of object you want to run, such as a report or codeunit, and the name and object ID of the object that you want to run.</span></span> <span data-ttu-id="b374b-111">Vous pouvez également ajouter des paramètres pour spécifier le comportement de la file d'attente des travaux.</span><span class="sxs-lookup"><span data-stu-id="b374b-111">You can also add parameters to specify the behavior of the job queue entry.</span></span> <span data-ttu-id="b374b-112">Par exemple, vous pouvez ajouter un paramètre pour envoyer uniquement des documents de vente reportés.</span><span class="sxs-lookup"><span data-stu-id="b374b-112">For example, you can add a parameter to only send posted sales orders.</span></span> <span data-ttu-id="b374b-113">Vous devez être autorisé à exécuter le rapport ou le codeunit spécifié, sans quoi une erreur est renvoyée lors de l'exécution de la file d'attente des travaux.</span><span class="sxs-lookup"><span data-stu-id="b374b-113">You must have permission to run the particular report or codeunit, or an error will be returned when the job queue is run.</span></span>  
> [!IMPORTANT]  
> <span data-ttu-id="b374b-114">Si vous utilisez l’ensemble d’autorisations SUPER qui est fourni avec [!INCLUDE[prod_short](includes/prod_short.md)], les utilisateurs et vous-même disposez des autorisations pour exécuter tous les objets dans la licence.</span><span class="sxs-lookup"><span data-stu-id="b374b-114">If you use the SUPER permissions set that comes with [!INCLUDE[prod_short](includes/prod_short.md)], you and your users have permissions to run all objects within the license.</span></span> <span data-ttu-id="b374b-115">Cela n’est toujours pas suffisant pour les administrateurs délégués ou les utilisateurs disposant d’une licence de périphérique, qui ne peuvent pas créer des entrées de file d'attente des travaux.</span><span class="sxs-lookup"><span data-stu-id="b374b-115">That is still not enough for Delegated Admin or users with Device license, who cannot create job queue entires.</span></span>

<span data-ttu-id="b374b-116">Une file d'attente des travaux peut comporter plusieurs écritures correspondant aux projets que la file d'attente gère et exécute.</span><span class="sxs-lookup"><span data-stu-id="b374b-116">A job queue can have many entries, which are the jobs that the queue manages and runs.</span></span> <span data-ttu-id="b374b-117">Les informations contenues dans les écritures spécifient le codeunit ou le rapport exécuté, la date et le nombre d'exécutions d'une écriture, la catégorie dans laquelle le projet s'exécute et comment il s'exécute.</span><span class="sxs-lookup"><span data-stu-id="b374b-117">Information in the entry specifies what codeunit or report is run, when and how often the entry is run, in what category the job runs, and how it runs.</span></span>  

<span data-ttu-id="b374b-118">Une fois les files d'attente des travaux configurées et en cours d'exécution, l'état peut être modifié comme suit au cours de chaque période récurrente :</span><span class="sxs-lookup"><span data-stu-id="b374b-118">After job queues are set up and running, the status can change as follows within each recurring period:</span></span>

* <span data-ttu-id="b374b-119">**En attente**</span><span class="sxs-lookup"><span data-stu-id="b374b-119">**On Hold**</span></span>  
* <span data-ttu-id="b374b-120">**Prêt**</span><span class="sxs-lookup"><span data-stu-id="b374b-120">**Ready**</span></span>  
* <span data-ttu-id="b374b-121">**En cours**</span><span class="sxs-lookup"><span data-stu-id="b374b-121">**In Process**</span></span>  
* <span data-ttu-id="b374b-122">**Erreur**</span><span class="sxs-lookup"><span data-stu-id="b374b-122">**Error**</span></span>  
* <span data-ttu-id="b374b-123">**Terminé**</span><span class="sxs-lookup"><span data-stu-id="b374b-123">**Finished**</span></span>  

<span data-ttu-id="b374b-124">Une fois qu'un projet s'est terminé correctement, il est supprimé de la liste des écritures file d'attente des travaux, sauf en cas de projet récurrent.</span><span class="sxs-lookup"><span data-stu-id="b374b-124">After a job has finished successfully, it is removed from the list of job queue entries unless it is a recurring job.</span></span> <span data-ttu-id="b374b-125">S'il s'agit d'un projet récurrent, le champ **Heure de début (au plus tôt)** est ajusté pour afficher la prochaine heure d'exécution planifiée pour le projet.</span><span class="sxs-lookup"><span data-stu-id="b374b-125">If it is a recurring job, the **Earliest Start Time** field is adjusted to show the next time that the job is expected to run.</span></span>  

## <a name="to-view-status-or-errors-in-the-job-queue"></a><span data-ttu-id="b374b-126">Pour visualiser l'état ou les erreurs dans la file d'attente des travaux</span><span class="sxs-lookup"><span data-stu-id="b374b-126">To view status or errors in the job queue</span></span>

<span data-ttu-id="b374b-127">Les données qui sont générées lors de l'exécution d'une file d'attente des travaux sont stockées dans la base de données, de sorte que vous puissiez résoudre les erreurs de la file d'attente des travaux.</span><span class="sxs-lookup"><span data-stu-id="b374b-127">Data that is generated when a job queue is run is stored in the database, so that you can troubleshoot job queue errors.</span></span>  
<span data-ttu-id="b374b-128">Pour chaque entrée de file d'attente des travaux, vous pouvez afficher et modifier l’état.</span><span class="sxs-lookup"><span data-stu-id="b374b-128">For each job queue entry, you can view and change the status.</span></span> <span data-ttu-id="b374b-129">Lorsque vous créez une écriture file d'attente des travaux, son état est défini sur **En attente**.</span><span class="sxs-lookup"><span data-stu-id="b374b-129">When you create a job queue entry, its status is set to **On Hold**.</span></span> <span data-ttu-id="b374b-130">Vous pouvez définir l'état sur **Prêt** et revenir à **En attente**, par exemple.</span><span class="sxs-lookup"><span data-stu-id="b374b-130">You can set the status to **Ready** and back to **On Hold**, for example.</span></span> <span data-ttu-id="b374b-131">Sinon, les informations d'état sont mises à jour automatiquement.</span><span class="sxs-lookup"><span data-stu-id="b374b-131">Otherwise, status information is updated automatically.</span></span>

<span data-ttu-id="b374b-132">Le tableau suivant décrit les valeurs du champ **État**.</span><span class="sxs-lookup"><span data-stu-id="b374b-132">The following table describes the values of the **Status** field.</span></span>

| <span data-ttu-id="b374b-133">État</span><span class="sxs-lookup"><span data-stu-id="b374b-133">Status</span></span> | <span data-ttu-id="b374b-134">Description</span><span class="sxs-lookup"><span data-stu-id="b374b-134">Description</span></span> |
|--|--|
| <span data-ttu-id="b374b-135">Prêt</span><span class="sxs-lookup"><span data-stu-id="b374b-135">Ready</span></span> | <span data-ttu-id="b374b-136">Indique que l’écriture file d'attente des travaux est prête à être exécutée.</span><span class="sxs-lookup"><span data-stu-id="b374b-136">Indicates that the job queue entry is ready to be run.</span></span> |
| <span data-ttu-id="b374b-137">En cours</span><span class="sxs-lookup"><span data-stu-id="b374b-137">In Process</span></span> | <span data-ttu-id="b374b-138">Indique que l’écriture file d'attente des travaux est en cours.</span><span class="sxs-lookup"><span data-stu-id="b374b-138">Indicates that the job queue entry is in process.</span></span> <span data-ttu-id="b374b-139">Ce champ est mis à jour lors de l’exécution de la file d'attente des travaux.</span><span class="sxs-lookup"><span data-stu-id="b374b-139">This field is updated while the job queue is running.</span></span> |
| <span data-ttu-id="b374b-140">En attente</span><span class="sxs-lookup"><span data-stu-id="b374b-140">On Hold</span></span> | <span data-ttu-id="b374b-141">Par défaut.</span><span class="sxs-lookup"><span data-stu-id="b374b-141">Default.</span></span> <span data-ttu-id="b374b-142">Indique l'état de l’écriture file d'attente des travaux lors de sa création.</span><span class="sxs-lookup"><span data-stu-id="b374b-142">Indicates the status of the job queue entry when it is created.</span></span> <span data-ttu-id="b374b-143">Choisissez **Attribuer l'état Prêt** pour modifier l'état sur **Prêt**.</span><span class="sxs-lookup"><span data-stu-id="b374b-143">Choose the **Set Status to Ready** action to change the status to **Ready**.</span></span> <span data-ttu-id="b374b-144">Choisissez **Mettre en attente** ou **Suspendre** pour ramener l'état sur **En attente**.</span><span class="sxs-lookup"><span data-stu-id="b374b-144">Choose the **Set On Hold** or **Suspend** actions to change the status back to **On Hold**.</span></span> |
| <span data-ttu-id="b374b-145">Erreur</span><span class="sxs-lookup"><span data-stu-id="b374b-145">Error</span></span> | <span data-ttu-id="b374b-146">Indique qu’il y a une erreur.</span><span class="sxs-lookup"><span data-stu-id="b374b-146">Indicates that there is an error.</span></span> <span data-ttu-id="b374b-147">Choisissez **Afficher erreur** pour visualiser le message d’erreur.</span><span class="sxs-lookup"><span data-stu-id="b374b-147">Choose **Show Error** to see the error message.</span></span> |
| <span data-ttu-id="b374b-148">Terminé</span><span class="sxs-lookup"><span data-stu-id="b374b-148">Finished</span></span> | <span data-ttu-id="b374b-149">Indique que l’écriture file d'attente des travaux est complète.</span><span class="sxs-lookup"><span data-stu-id="b374b-149">Indicates that the job queue entry is complete.</span></span> |

### <a name="to-view-status-for-any-job"></a><span data-ttu-id="b374b-150">Pour visualiser l'état de tous les travaux</span><span class="sxs-lookup"><span data-stu-id="b374b-150">To view status for any job</span></span>
1. <span data-ttu-id="b374b-151">Choisissez l'icône ![Ampoule qui ouvre la fonction Tell Me](media/ui-search/search_small.png "Dites-moi ce que vous voulez faire"), entrez **Écritures file d'attente des travaux**, puis sélectionnez le lien associé.</span><span class="sxs-lookup"><span data-stu-id="b374b-151">Choose the ![Lightbulb that opens the Tell Me feature](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Job Queue Entries**, and then choose the related link.</span></span>
2. <span data-ttu-id="b374b-152">Sur la page **Écritures file d'attente des travaux**, sélectionnez une écriture file d'attente des travaux, puis sélectionnez l'action **Écritures journal**.</span><span class="sxs-lookup"><span data-stu-id="b374b-152">On the **Job Queue Entries** page, select a job queue entry, and then choose the **Log Entries** action.</span></span>  

> [!TIP]
> <span data-ttu-id="b374b-153">Avec [!INCLUDE [prod_short](includes/prod_short.md)] en ligne, vous pouvez également afficher l’état des entrées de la file d'attente des travaux en utilisant Application Insights dans Microsoft Azure.</span><span class="sxs-lookup"><span data-stu-id="b374b-153">With [!INCLUDE [prod_short](includes/prod_short.md)] online, you can also view the status of job queue entries by using Application Insights in Microsoft Azure.</span></span> <span data-ttu-id="b374b-154">Pour plus d’informations, consultez [Analyse de la télémétrie de suivi du cycle de vie de la file d'attente des travaux](/dynamics365smb-devitpro\dev-itpro\administration\telemetry-job-queue-lifecycle-trace) dans l’aide dédiée à l’équipe IT et aux développeurs [!INCLUDE [prod_short](includes/prod_short.md)].</span><span class="sxs-lookup"><span data-stu-id="b374b-154">For more information, see [Analyzing Job Queue Lifecycle Trace Telemetry](/dynamics365smb-devitpro\dev-itpro\administration\telemetry-job-queue-lifecycle-trace) in the [!INCLUDE [prod_short](includes/prod_short.md)] Developer and IT Pro help.</span></span>

## <a name="the-my-job-queue-part"></a><span data-ttu-id="b374b-155">Composant Ma file d'attente des travaux</span><span class="sxs-lookup"><span data-stu-id="b374b-155">The My Job Queue Part</span></span>
<span data-ttu-id="b374b-156">Le composant **Ma file d'attente des travaux** sur votre Tableau de bord répertorie les écritures files d'attente des travaux que vous avez commencées, mais qui ne sont pas encore terminées.</span><span class="sxs-lookup"><span data-stu-id="b374b-156">The **My Job Queue** part on your Role Center shows the job queues entries that you have started, but which are not yet finished.</span></span> <span data-ttu-id="b374b-157">Par défaut, le composant n'est pas visible et vous devez donc l'ajouter à votre tableau de bord.</span><span class="sxs-lookup"><span data-stu-id="b374b-157">By default, the part is not visible, so you have to add it to your Role Center.</span></span> <span data-ttu-id="b374b-158">Pour plus d'informations, voir [Personnaliser votre espace de travail](ui-personalization-user.md).</span><span class="sxs-lookup"><span data-stu-id="b374b-158">For more information, see [Personalize Your Workspace](ui-personalization-user.md).</span></span>  

<span data-ttu-id="b374b-159">Le composant indique les documents avec votre code dans le champ **Code utilisateur affecté** qui sont en cours de traitement ou en attente, y compris ceux associés au report en arrière-plan.</span><span class="sxs-lookup"><span data-stu-id="b374b-159">The part shows which documents with your ID in the **Assigned User ID** field are being processed or are queued, including those related to background posting.</span></span> <span data-ttu-id="b374b-160">La composante peut vous indiquer rapidement s’il y a eu une erreur lors du report d’un document ou s’il existe des erreurs dans une écriture de file d'attente projet.</span><span class="sxs-lookup"><span data-stu-id="b374b-160">The part can tell you at a glance whether there has been an error in the posting of a document or if there are errors in a job queue entry.</span></span> <span data-ttu-id="b374b-161">Elle vous permet également d'annuler un report de document en cas de non-exécution.</span><span class="sxs-lookup"><span data-stu-id="b374b-161">The part also lets you cancel a document posting if it is not running.</span></span>

### <a name="to-view-an-error-from-the-my-job-queue-part"></a><span data-ttu-id="b374b-162">Pour afficher une erreur dans le composant Ma file d'attente des travaux</span><span class="sxs-lookup"><span data-stu-id="b374b-162">To view an error from the My Job Queue part</span></span>
1. <span data-ttu-id="b374b-163">Sur une écriture ayant l'état **Erreur**, sélectionnez l'action **Afficher erreur**.</span><span class="sxs-lookup"><span data-stu-id="b374b-163">On an entry with the status **Error**, choose the **Show Error** action.</span></span>
2. <span data-ttu-id="b374b-164">Examinez le message d’erreur et résolvez le problème.</span><span class="sxs-lookup"><span data-stu-id="b374b-164">Review the error message and fix the problem.</span></span>


## <a name="examples-of-what-can-be-scheduled-using-job-queue"></a><span data-ttu-id="b374b-165">Exemples de ce qui peut être programmé à l’aide de la file d'attente des travaux</span><span class="sxs-lookup"><span data-stu-id="b374b-165">Examples of what can be scheduled using job queue</span></span>

### <a name="schedule-reports"></a><span data-ttu-id="b374b-166">Programmer des rapports</span><span class="sxs-lookup"><span data-stu-id="b374b-166">Schedule reports</span></span>

<span data-ttu-id="b374b-167">Vous pouvez programmer un rapport ou un traitement en lot pour qu'il s'exécute à une date et une heure spécifiques.</span><span class="sxs-lookup"><span data-stu-id="b374b-167">You can schedule a report or batch job to run at a specific date and time.</span></span> <span data-ttu-id="b374b-168">Les rapports ou les traitements en lot programmés sont entrés dans la file d'attente des travaux et traités au moment programmé, comme les autres projets.</span><span class="sxs-lookup"><span data-stu-id="b374b-168">Scheduled reports and batch jobs are entered in the job queue and processed at the scheduled time, similar to other jobs.</span></span> <span data-ttu-id="b374b-169">Vous devez choisir l’option **Programmer** après avoir choisi l’action **Envoyer à**, puis vous devez entrer des informations telles que l’imprimante, l’heure et la date, et la récurrence.</span><span class="sxs-lookup"><span data-stu-id="b374b-169">You choose the **Schedule** option after you choose the **Send to** action, and then you enter information such as printer, time and date, recurrence.</span></span>  

<span data-ttu-id="b374b-170">Pour en savoir plus, consultez [Programmer un rapport à exécuter](ui-work-report.md#ScheduleReport)</span><span class="sxs-lookup"><span data-stu-id="b374b-170">For more information, see [Scheduling a Report to Run](ui-work-report.md#ScheduleReport)</span></span>

### <a name="schedule-synchronization-between-prod_short-and-prod_short"></a><span data-ttu-id="b374b-171">Programmer la synchronisation entre [!INCLUDE[prod_short](includes/prod_short.md)] et [!INCLUDE[prod_short](includes/cds_long_md.md)]</span><span class="sxs-lookup"><span data-stu-id="b374b-171">Schedule synchronization between [!INCLUDE[prod_short](includes/prod_short.md)] and [!INCLUDE[prod_short](includes/cds_long_md.md)]</span></span>

<span data-ttu-id="b374b-172">Si vous avez intégré [!INCLUDE[prod_short](includes/prod_short.md)] à [!INCLUDE[prod_short](includes/cds_long_md.md)], vous pouvez utiliser la file d'attente des travaux pour programmer à quel moment vous souhaitez synchroniser les données des enregistrements que vous avez couplés dans les deux applications métier.</span><span class="sxs-lookup"><span data-stu-id="b374b-172">If you have integrated [!INCLUDE[prod_short](includes/prod_short.md)] with [!INCLUDE[prod_short](includes/cds_long_md.md)], you can use the job queue to schedule when you want to synchronize data for the records that you have coupled in the two business apps.</span></span> <span data-ttu-id="b374b-173">Selon la direction et les règles que vous avez définies pour l’intégration, les tâches de synchronisation peuvent également créer des enregistrements dans l’application de destination pour correspondre à ceux de la source.</span><span class="sxs-lookup"><span data-stu-id="b374b-173">Depending on the direction and rules that you have defined for the integration, the synchronization jobs can also create new records in the destination app to match those in the source.</span></span> <span data-ttu-id="b374b-174">Par exemple, si un représentant crée un contact dans [!INCLUDE[crm_md](includes/crm_md.md)], la tâche de synchronisation peut créer ce contact pour le représentant couplé dans [!INCLUDE[prod_short](includes/prod_short.md)].</span><span class="sxs-lookup"><span data-stu-id="b374b-174">For example, if a salesperson creates a new contact in [!INCLUDE[crm_md](includes/crm_md.md)], the synchronization job can create that contact for the coupled salesperson in [!INCLUDE[prod_short](includes/prod_short.md)].</span></span> <span data-ttu-id="b374b-175">Pour plus d’informations, voir [Planification d’une synchronisation entre Business Central et Dynamics 365 Sales](admin-scheduled-synchronization-using-the-synchronization-job-queue-entries.md).</span><span class="sxs-lookup"><span data-stu-id="b374b-175">For more information, see [Scheduling a Synchronization between Business Central and Dynamics 365 Sales](admin-scheduled-synchronization-using-the-synchronization-job-queue-entries.md).</span></span>

### <a name="schedule-the-posting-of-sales-and-purchase-orders"></a><span data-ttu-id="b374b-176">Programmer le report de bons de commande et de documents de vente</span><span class="sxs-lookup"><span data-stu-id="b374b-176">Schedule the posting of sales and purchase orders</span></span>

<span data-ttu-id="b374b-177">Les files d'attente des travaux sont un outil efficace pour programmer l'exécution des processus d'entreprises en arrière-plan, par exemple lorsque plusieurs utilisateurs essaient de reporter des documents de vente, mais uniquement une commande à la fois.</span><span class="sxs-lookup"><span data-stu-id="b374b-177">Job queues are an effective tool to schedule the running of business processes in the background, such as when multiple users are trying to post sales orders, but only one order can be processed at a time.</span></span>  

<span data-ttu-id="b374b-178">Pour plus d’informations, voir [Pour configurer le report en arrière-plan avec des files d'attente des travaux](ui-batch-posting.md#to-set-up-background-posting-with-job-queues)</span><span class="sxs-lookup"><span data-stu-id="b374b-178">For more information, see [To set up background posting with job queues](ui-batch-posting.md#to-set-up-background-posting-with-job-queues)</span></span>

## <a name="see-also"></a><span data-ttu-id="b374b-179">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="b374b-179">See Also</span></span>

[<span data-ttu-id="b374b-180">Administration</span><span class="sxs-lookup"><span data-stu-id="b374b-180">Administration</span></span>](admin-setup-and-administration.md)  
[<span data-ttu-id="b374b-181">Configuration de Business Central</span><span class="sxs-lookup"><span data-stu-id="b374b-181">Setting Up Business Central</span></span>](setup.md)  
[<span data-ttu-id="b374b-182">Modifier les paramètres de base</span><span class="sxs-lookup"><span data-stu-id="b374b-182">Change Basic Settings</span></span>](ui-change-basic-settings.md)  
[<span data-ttu-id="b374b-183">Analyse de la télémétrie de suivi du cycle de vie de la file d'attente des travaux</span><span class="sxs-lookup"><span data-stu-id="b374b-183">Analyzing Job Queue Lifecycle Trace Telemetry</span></span>](/dynamics365smb-devitpro\dev-itpro\administration\telemetry-job-queue-lifecycle-trace)  
