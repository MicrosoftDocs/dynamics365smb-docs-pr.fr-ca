---
title: Programmer des projets à exécuter automatiquement | Microsoft Docs
description: Les tâches programmées sont gérées par la file d'attente des travaux. Ces projets exécutent des rapports et des codeunits. Vous pouvez définir des projets à exécuter une fois, ou sur une base récurrente.
author: edupont04
ms.service: dynamics365-business-central
ms.topic: article
ms.devlang: na
ms.tgt_pltfrm: na
ms.workload: na
ms.search.keywords: ''
ms.date: 10/01/2020
ms.author: edupont
ms.openlocfilehash: 5e8c611ed5d542436f470781c92d17095ecd1f5d
ms.sourcegitcommit: ddbb5cede750df1baba4b3eab8fbed6744b5b9d6
ms.translationtype: HT
ms.contentlocale: fr-CA
ms.lasthandoff: 10/01/2020
ms.locfileid: "3924588"
---
# <a name="use-job-queues-to-schedule-tasks"></a><span data-ttu-id="cab62-105">Utiliser des files d'attente des travaux pour programmer des tâches</span><span class="sxs-lookup"><span data-stu-id="cab62-105">Use Job Queues to Schedule Tasks</span></span>

<span data-ttu-id="cab62-106">Des files d'attente des travaux dans [!INCLUDE[d365fin](includes/d365fin_md.md)] permettent aux utilisateurs de planifier et d'exécuter des états et codeunits spécifiques.</span><span class="sxs-lookup"><span data-stu-id="cab62-106">Job queues in [!INCLUDE[d365fin](includes/d365fin_md.md)] enables users to schedule and run specific reports and codeunits.</span></span> <span data-ttu-id="cab62-107">Vous pouvez définir des projets à exécuter une fois, ou sur une base récurrente.</span><span class="sxs-lookup"><span data-stu-id="cab62-107">You can set jobs to run one time, or on a recurring basis.</span></span> <span data-ttu-id="cab62-108">Par exemple, vous souhaiterez peut-être exécuter le rapport **Statistiques \* vente représentant** sur une base hebdomadaire, pour suivre les ventes par représentant chaque semaine, ou exécuter le codeunit **Déléguer les demandes d’approbation** quotidiennement, pour empêcher les documents de s’empiler ou de bloquer le flux de travail.</span><span class="sxs-lookup"><span data-stu-id="cab62-108">For example, you might want to run the **Salesperson \* Sales Statistics** report weekly, to track sales by salesperson each week, or you might want to run the **Delegate Approval Requests** codeunit daily, to prevent documents from piling up or otherwise block the workflow.</span></span>

<span data-ttu-id="cab62-109">La page **Écritures file d'attente des travaux** répertorie tous les projets existants.</span><span class="sxs-lookup"><span data-stu-id="cab62-109">The **Job Queue Entries** page lists all existing jobs.</span></span> <span data-ttu-id="cab62-110">Si vous ajoutez une nouvelle écriture file d'attente des travaux que vous voulez programmer, vous devez spécifier des informations sur le type d'objet à exécuter, par exemple un rapport ou un codeunit, ainsi que le nom et le code de l'objet que vous voulez exécuter.</span><span class="sxs-lookup"><span data-stu-id="cab62-110">If you add a new job queue entry that you want to schedule, you must specify information about the type of object you want to run, such as a report or codeunit, and the name and object ID of the object that you want to run.</span></span> <span data-ttu-id="cab62-111">Vous pouvez également ajouter des paramètres pour spécifier le comportement de la file d'attente des travaux.</span><span class="sxs-lookup"><span data-stu-id="cab62-111">You can also add parameters to specify the behavior of the job queue entry.</span></span> <span data-ttu-id="cab62-112">Par exemple, vous pouvez ajouter un paramètre pour envoyer uniquement des documents de vente reportés.</span><span class="sxs-lookup"><span data-stu-id="cab62-112">For example, you can add a parameter to only send posted sales orders.</span></span> <span data-ttu-id="cab62-113">Vous devez être autorisé à exécuter le rapport ou le codeunit spécifié, sans quoi une erreur est renvoyée lors de l'exécution de la file d'attente des travaux.</span><span class="sxs-lookup"><span data-stu-id="cab62-113">You must have permission to run the particular report or codeunit, or an error will be returned when the job queue is run.</span></span>  

<span data-ttu-id="cab62-114">Une file d'attente des travaux peut comporter plusieurs écritures correspondant aux projets que la file d'attente gère et exécute.</span><span class="sxs-lookup"><span data-stu-id="cab62-114">A job queue can have many entries, which are the jobs that the queue manages and runs.</span></span> <span data-ttu-id="cab62-115">Les informations contenues dans les écritures spécifient le codeunit ou le rapport exécuté, la date et le nombre d'exécutions d'une écriture, la catégorie dans laquelle le projet s'exécute et comment il s'exécute.</span><span class="sxs-lookup"><span data-stu-id="cab62-115">Information in the entry specifies what codeunit or report is run, when and how often the entry is run, in what category the job runs, and how it runs.</span></span>  

## <a name="to-set-up-background-posting-with-job-queues"></a><span data-ttu-id="cab62-116">Pour configurer le report en arrière-plan avec les files d'attente des travaux</span><span class="sxs-lookup"><span data-stu-id="cab62-116">To set up background posting with job queues</span></span>

<span data-ttu-id="cab62-117">Les files d'attente des travaux sont un outil efficace pour programmer l'exécution des processus d'entreprises en arrière-plan, par exemple lorsque plusieurs utilisateurs essaient de reporter des documents de vente, mais uniquement une commande à la fois.</span><span class="sxs-lookup"><span data-stu-id="cab62-117">Job queues are an effective tool to schedule the running of business processes in the background, such as when multiple users are trying to post sales orders, but only one order can be processed at a time.</span></span>  

<span data-ttu-id="cab62-118">La procédure suivante explique comment configurer le report en arrière-plan des documents de vente.</span><span class="sxs-lookup"><span data-stu-id="cab62-118">The following procedure explains how to set up background posting of sales orders.</span></span> <span data-ttu-id="cab62-119">La procédure est identique pour les achats.</span><span class="sxs-lookup"><span data-stu-id="cab62-119">The steps are similar for purchasing.</span></span>  

1. <span data-ttu-id="cab62-120">Choisissez l'icône ![Ampoule qui ouvre la fonction Tell Me](media/ui-search/search_small.png "Dites-moi ce que vous voulez faire"), entrez **Configuration ventes & à recevoir** , puis sélectionnez le lien associé.</span><span class="sxs-lookup"><span data-stu-id="cab62-120">Choose the ![Lightbulb that opens the Tell Me feature](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Sales & Receivables Setup** , and then choose the related link.</span></span>
2. <span data-ttu-id="cab62-121">Sur la page **Configuration ventes & à recevoir** , activez la case à cocher **Reporter avec la file d'attente des travaux** .</span><span class="sxs-lookup"><span data-stu-id="cab62-121">On the **Sales & Receivables Setup** page, choose the **Post with Job Queue** check box.</span></span>
3. <span data-ttu-id="cab62-122">Choisissez le champ **Code catégorie de la file d'attente des travaux** , puis spécifiez le code **SALESPOST** .</span><span class="sxs-lookup"><span data-stu-id="cab62-122">Choose the **Job Queue Category Code** field, and then specify the **SALESPOST** code.</span></span>

    > [!NOTE]
    > <span data-ttu-id="cab62-123">Certains travaux modifient les données identiques et ne doivent pas s'exécuter en simultané, car cela peut provoquer des conflits.</span><span class="sxs-lookup"><span data-stu-id="cab62-123">Some jobs change the same data and should not run at the same time because that can cause conflicts.</span></span> <span data-ttu-id="cab62-124">Par exemple, les travaux d'arrière-plan des documents de vente tentent de modifier les données identiques en simultané.</span><span class="sxs-lookup"><span data-stu-id="cab62-124">For example, background jobs for sales documents will try to modify the same data at the same time.</span></span> <span data-ttu-id="cab62-125">Les catégories de file d'attente des travaux permettent d'éviter ces types de conflits en garantissant que lorsqu'un travail est en cours d'exécution, un autre travail appartenant à la même catégorie de file d'attente ne s'exécutera pas avant sa fin.</span><span class="sxs-lookup"><span data-stu-id="cab62-125">Job queue categories help prevent these kinds of conflicts by ensuring that when one job is running, another job that belongs to the same job queue category will not run until it finishes.</span></span> <span data-ttu-id="cab62-126">Par exemple, un travail relevant d'une catégorie de file d'attente des travaux de vente attendra que tous les autres travaux liés aux ventes soient terminés.</span><span class="sxs-lookup"><span data-stu-id="cab62-126">For example, a job that belongs to a Sales job queue category will wait until all other sales related jobs are done.</span></span> <span data-ttu-id="cab62-127">Vous spécifiez une catégorie de file d'attente des travaux sur le raccourci **Report en arrière-plan** sur la page **Configuration ventes & à recevoir** .</span><span class="sxs-lookup"><span data-stu-id="cab62-127">You specify a job queue category on the **Background Posting** FastTab on the **Sales & Receivables Setup** page.</span></span>
    >
    > [!INCLUDE[d365fin](includes/d365fin_md.md)] <span data-ttu-id="cab62-128">fournit des catégories de file d'attente des travaux pour les reports au grand livre, les ventes et les achats.</span><span class="sxs-lookup"><span data-stu-id="cab62-128">provides job queue categories for sales, purchase, and general ledger posting.</span></span> <span data-ttu-id="cab62-129">Nous recommandons que l'une d'entre elles, ou celle que vous créez, soit toujours spécifiée.</span><span class="sxs-lookup"><span data-stu-id="cab62-129">We recommend that one of these, or one that you create, is always specified.</span></span> <span data-ttu-id="cab62-130">Si vous rencontrez des échecs en raison de conflits, pensez à configurer une catégorie pour l'ensemble des reports comptables en arrière-plan, des ventes et des achats.</span><span class="sxs-lookup"><span data-stu-id="cab62-130">If you experience failures due to conflicts, consider setting up a category for all sales, purchase, and general ledger background posting.</span></span>

    <span data-ttu-id="cab62-131">Si vous souhaitez également que des documents vente soient imprimés lorsqu'ils sont reportés, sélectionnez la case à cocher **Reporter et imprimer avec la file d'attente des travaux** sur la page **Configuration ventes & à recevoir** .</span><span class="sxs-lookup"><span data-stu-id="cab62-131">If you also want sales documents to be printed when they are posted, select the **Post & Print with Job Queue** check box on the **Sales & Receivables Setup** page.</span></span>  

    > [!IMPORTANT]  
    > <span data-ttu-id="cab62-132">Si vous configurez un projet qui reporte et imprime des documents et que l'imprimante affiche une boîte de dialogue, par exemple une demande d'informations d'identification ou un avertissement à propos de la quantité faible d'encre, votre document est reporté mais non imprimé.</span><span class="sxs-lookup"><span data-stu-id="cab62-132">If you set up a job that will post and print documents, and the printer displays a dialog box, such as a request for credentials or a warning about low printer ink, your document is posted but not printed.</span></span> <span data-ttu-id="cab62-133">L'écriture file d'attente de travaux correspondante expire et la valeur du champ **Statut** devient **Erreur** .</span><span class="sxs-lookup"><span data-stu-id="cab62-133">The corresponding job queue entry eventually times out and the **Status** field is set to **Error** .</span></span> <span data-ttu-id="cab62-134">Par conséquent, nous vous recommandons de ne pas utiliser une configuration d'imprimante nécessitant une interaction avec les boîtes de dialogue de l'imprimante relatives au report en arrière-plan.</span><span class="sxs-lookup"><span data-stu-id="cab62-134">Accordingly, we recommend that you do not use a printer setup that requires interaction with the display of printer dialog boxes in conjunction with background posting.</span></span>

    <span data-ttu-id="cab62-135">La prochaine fois que vous reportez des documents de vente, [!INCLUDE [prodshort](includes/prodshort.md)] crée automatiquement une entrée de file d'attente des travaux pour chaque document et exécute les travaux en arrière-plan, un par un.</span><span class="sxs-lookup"><span data-stu-id="cab62-135">Next time that you post sales documents, [!INCLUDE [prodshort](includes/prodshort.md)] automatically creates a job queue entry for each document and run the jobs in the background, one by one.</span></span>

4. <span data-ttu-id="cab62-136">Pour vérifier que la file d'attente des travaux fonctionne comme prévu, reportez un document de vente.</span><span class="sxs-lookup"><span data-stu-id="cab62-136">To verify that the job queue is working as expected, post a sales order.</span></span> <span data-ttu-id="cab62-137">Pour en savoir plus, voir [Vendre des produits](sales-how-sell-products.md).</span><span class="sxs-lookup"><span data-stu-id="cab62-137">For more information, see [Sell Products](sales-how-sell-products.md).</span></span>

5. <span data-ttu-id="cab62-138">Vérifiez sur la page **Écritures journal file d'attente des travaux** si le document de vente a été reporté avec succès.</span><span class="sxs-lookup"><span data-stu-id="cab62-138">Review on the **Job Queue Log Entries** page if the sales order was posted successfully.</span></span> <span data-ttu-id="cab62-139">Pour plus d'informations, voir [Pour afficher l'état ou les erreurs dans la file d'attente](admin-job-queues-schedule-tasks.md#to-view-status-or-errors-in-the-job-queue).</span><span class="sxs-lookup"><span data-stu-id="cab62-139">For more information, see [To view status or errors in the job queue](admin-job-queues-schedule-tasks.md#to-view-status-or-errors-in-the-job-queue).</span></span>

## <a name="to-create-a-job-queue-entry-for-batch-posting-of-sales-orders"></a><span data-ttu-id="cab62-140">Pour créer une écriture file d'attente des travaux pour le report en lot des documents de vente</span><span class="sxs-lookup"><span data-stu-id="cab62-140">To create a job queue entry for batch posting of sales orders</span></span>

<span data-ttu-id="cab62-141">Sinon, vous pouvez reporter les reports à des heures pratiques pour votre organisation.</span><span class="sxs-lookup"><span data-stu-id="cab62-141">Alternatively, you can postpone postings for when it is convenient for your organization.</span></span> <span data-ttu-id="cab62-142">Par exemple, il peut sembler raisonnable dans votre activité d’exécuter certaines routines lorsque la plupart de la saisie de données de la journée est achevée.</span><span class="sxs-lookup"><span data-stu-id="cab62-142">For example, in your business it might make sense to run certain routines when most of the data entry for the day has concluded.</span></span> <span data-ttu-id="cab62-143">Vous pouvez effectuer cette opération en configurant la file d'attente des travaux pour exécuter différents rapports de report en lot, par exemple, **Reporter en lot documents de vente** , **Reporter en lot factures vente** et des rapports similaires.</span><span class="sxs-lookup"><span data-stu-id="cab62-143">You can achieve this by setting the job queue up to run various batch-posting reports, such as the **Batch Post Sales Orders** , **Batch Post Sales Invoices** , and similar reports.</span></span> [!INCLUDE[d365fin](includes/d365fin_md.md)] <span data-ttu-id="cab62-144">prend en charge le report en arrière-plan de tous les documents de types ventes, achats et service.</span><span class="sxs-lookup"><span data-stu-id="cab62-144">supports background posting for all sales, purchasing, and service documents.</span></span>

<span data-ttu-id="cab62-145">La procédure suivante décrit comment définir le rapport **Reporter en lot documents de vente** pour un report automatique des documents de vente lancés à 16 h 00 les jours de semaine.</span><span class="sxs-lookup"><span data-stu-id="cab62-145">The following procedure shows how to set the **Batch Post Sales Orders** report up to automatically post sales orders at 4 PM on week days.</span></span>  

1. <span data-ttu-id="cab62-146">Choisissez l'icône ![Ampoule qui ouvre la fonction Tell Me](media/ui-search/search_small.png "Dites-moi ce que vous voulez faire"), entrez **Écritures file d'attente des travaux** , puis sélectionnez le lien associé.</span><span class="sxs-lookup"><span data-stu-id="cab62-146">Choose the ![Lightbulb that opens the Tell Me feature](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Job Queue Entries** , and then choose the related link.</span></span>  
2. <span data-ttu-id="cab62-147">Sélectionnez l'action **Nouveau** .</span><span class="sxs-lookup"><span data-stu-id="cab62-147">Choose the **New** action.</span></span>  
3. <span data-ttu-id="cab62-148">Dans le champ **Type objet à exécuter** , sélectionnez **Rapport** .</span><span class="sxs-lookup"><span data-stu-id="cab62-148">In the **Object Type to Run** field, select **Report** .</span></span>  
4. <span data-ttu-id="cab62-149">Dans le champ **Code objet à exécuter** , sélectionnez 296, **Reporter en lot des documents de vente** .</span><span class="sxs-lookup"><span data-stu-id="cab62-149">In the **Object ID to Run** field, select 296, **Batch Post Sales Orders** .</span></span>

   <span data-ttu-id="cab62-150">Vous pouvez également utiliser les rapports suivants :</span><span class="sxs-lookup"><span data-stu-id="cab62-150">You can also use following reports:</span></span>
  
   * <span data-ttu-id="cab62-151">900 **Reporter en lot ordres d’assemblage**</span><span class="sxs-lookup"><span data-stu-id="cab62-151">900 **Batch Post Assembly Orders**</span></span>
   * <span data-ttu-id="cab62-152">497 **Reporter en lot factures achat**</span><span class="sxs-lookup"><span data-stu-id="cab62-152">497 **Batch Post Purchase Invoices**</span></span>
   * <span data-ttu-id="cab62-153">496 **Reporter en lot bons de commande**</span><span class="sxs-lookup"><span data-stu-id="cab62-153">496 **Batch Post Purchase Orders**</span></span>
   * <span data-ttu-id="cab62-154">498 **Reporter en lot notes de crédit achat**</span><span class="sxs-lookup"><span data-stu-id="cab62-154">498 **Batch Post Purch. Credit Memos**</span></span>
   * <span data-ttu-id="cab62-155">6665 **Reporter en lot retours achat**</span><span class="sxs-lookup"><span data-stu-id="cab62-155">6665 **Batch Post Purch. Ret. Orders**</span></span>
   * <span data-ttu-id="cab62-156">298 **Reporter en lot notes de crédit vente**</span><span class="sxs-lookup"><span data-stu-id="cab62-156">298 **Batch Post Sales Credit Memos**</span></span>
   * <span data-ttu-id="cab62-157">297 **Reporter en lot factures vente**</span><span class="sxs-lookup"><span data-stu-id="cab62-157">297 **Batch Post Sales Invoices**</span></span>
   * <span data-ttu-id="cab62-158">296 **Reporter en lot documents de vente**</span><span class="sxs-lookup"><span data-stu-id="cab62-158">296 **Batch Post Sales Orders**</span></span>
   * <span data-ttu-id="cab62-159">6655 **Reporter en lot retours vente**</span><span class="sxs-lookup"><span data-stu-id="cab62-159">6655 **Batch Post Sales Return Orders**</span></span>
   * <span data-ttu-id="cab62-160">6005 **Reporter en lot notes de crédit service**</span><span class="sxs-lookup"><span data-stu-id="cab62-160">6005 **Batch Post Service Cr. Memos**</span></span>
   * <span data-ttu-id="cab62-161">6004 **Reporter en lot factures service**</span><span class="sxs-lookup"><span data-stu-id="cab62-161">6004 **Batch Post Service Invoices**</span></span>
   * <span data-ttu-id="cab62-162">6001 **Reporter en lot Commandes service**</span><span class="sxs-lookup"><span data-stu-id="cab62-162">6001 **Batch Post Service Orders**</span></span>

5. <span data-ttu-id="cab62-163">Activez la case à cocher **Page requête rapport** .</span><span class="sxs-lookup"><span data-stu-id="cab62-163">Select the **Report Request Page** check box.</span></span>
6. <span data-ttu-id="cab62-164">Dans la page de demande **Reporter en lot des documents de vente** , définissez ce qu'il faut inclure lors du report automatique des documents de vente, puis sélectionnez le bouton **OK** .</span><span class="sxs-lookup"><span data-stu-id="cab62-164">In the **Batch Post Sales Orders** request page, define what is included during automatic posting of sales orders, and then choose the **OK** button.</span></span>

    > [!IMPORTANT]
    > <span data-ttu-id="cab62-165">N’oubliez pas de définir des filtres stricts ; sinon, [!INCLUDE [prodshort](includes/prodshort.md)] affichera tous les documents, même s’ils ne sont pas prêts.</span><span class="sxs-lookup"><span data-stu-id="cab62-165">Remember to set strict filters; otherwise, [!INCLUDE [prodshort](includes/prodshort.md)] will post all documents, even if they are not ready.</span></span> <span data-ttu-id="cab62-166">Pensez à définir un filtre sur le champ **État** pour la valeur *Libéré* , et un filtre sur le champ **Date de report** pour la valeur *..aujourd’hui* .</span><span class="sxs-lookup"><span data-stu-id="cab62-166">Consider setting a filter on the **Status** field for the value *Released* , and a filter on the **Posting Date** field for the value *..today* .</span></span> <span data-ttu-id="cab62-167">Pour plus d’informations, voir [Tri, recherche et filtrage](ui-enter-criteria-filters.md).</span><span class="sxs-lookup"><span data-stu-id="cab62-167">For more information, see [Sorting, Searching, and Filtering](ui-enter-criteria-filters.md).</span></span>
7. <span data-ttu-id="cab62-168">Activez toutes les cases à cocher de **Exécuter le lundi** à **Exécuter le vendredi** .</span><span class="sxs-lookup"><span data-stu-id="cab62-168">Select all check boxes from **Run on Mondays** through **Run on Fridays** .</span></span>
8. <span data-ttu-id="cab62-169">Dans le champ **Heure début** , entrez 16 h 00.</span><span class="sxs-lookup"><span data-stu-id="cab62-169">In the **Starting Time** field, enter 4 PM.</span></span>
9. <span data-ttu-id="cab62-170">Choisissez l'action **Attribuer l'état Prêt** .</span><span class="sxs-lookup"><span data-stu-id="cab62-170">Choose the **Set Status to Ready** action.</span></span>

<span data-ttu-id="cab62-171">Les documents de vente dans les filtres définis sont à présent reportés chaque jour de la semaine à 16 h 00.</span><span class="sxs-lookup"><span data-stu-id="cab62-171">Sales orders that are within defined filters will now be posted every week day at 4 PM.</span></span>

> [!NOTE]
> <span data-ttu-id="cab62-172">Si la file d'attente des travaux ne peut pas reporter le document de vente, l'état passe à **Erreur** , et le document de vente est ajouté à la liste des documents de vente que l'utilisateur doit traiter.</span><span class="sxs-lookup"><span data-stu-id="cab62-172">If the job queue cannot post the sales order, the status is changed to **Error** and the sales order is added to the list of sales orders that the user must handle manually.</span></span> <span data-ttu-id="cab62-173">Pour plus d'informations, voir [Pour afficher l'état ou les erreurs dans la file d'attente](admin-job-queues-schedule-tasks.md#to-view-status-or-errors-in-the-job-queue).</span><span class="sxs-lookup"><span data-stu-id="cab62-173">For more information, see [To view status or errors in the job queue](admin-job-queues-schedule-tasks.md#to-view-status-or-errors-in-the-job-queue).</span></span>

<span data-ttu-id="cab62-174">Une fois les files d'attente des travaux configurées et en cours d'exécution, l'état peut être modifié comme suit au cours de chaque période récurrente :</span><span class="sxs-lookup"><span data-stu-id="cab62-174">After job queues are set up and running, the status can change as follows within each recurring period:</span></span>

* <span data-ttu-id="cab62-175">**En attente**</span><span class="sxs-lookup"><span data-stu-id="cab62-175">**On Hold**</span></span>  
* <span data-ttu-id="cab62-176">**Prêt**</span><span class="sxs-lookup"><span data-stu-id="cab62-176">**Ready**</span></span>  
* <span data-ttu-id="cab62-177">**En cours**</span><span class="sxs-lookup"><span data-stu-id="cab62-177">**In Process**</span></span>  
* <span data-ttu-id="cab62-178">**Erreur**</span><span class="sxs-lookup"><span data-stu-id="cab62-178">**Error**</span></span>  
* <span data-ttu-id="cab62-179">**Terminé**</span><span class="sxs-lookup"><span data-stu-id="cab62-179">**Finished**</span></span>  

<span data-ttu-id="cab62-180">Une fois qu'un projet s'est terminé correctement, il est supprimé de la liste des écritures file d'attente des travaux, sauf en cas de projet récurrent.</span><span class="sxs-lookup"><span data-stu-id="cab62-180">After a job has finished successfully, it is removed from the list of job queue entries unless it is a recurring job.</span></span> <span data-ttu-id="cab62-181">S'il s'agit d'un projet récurrent, le champ **Heure de début (au plus tôt)** est ajusté pour afficher la prochaine heure d'exécution planifiée pour le projet.</span><span class="sxs-lookup"><span data-stu-id="cab62-181">If it is a recurring job, the **Earliest Start Time** field is adjusted to show the next time that the job is expected to run.</span></span>  

## <a name="to-view-status-or-errors-in-the-job-queue"></a><span data-ttu-id="cab62-182">Pour visualiser l'état ou les erreurs dans la file d'attente des travaux</span><span class="sxs-lookup"><span data-stu-id="cab62-182">To view status or errors in the job queue</span></span>
<span data-ttu-id="cab62-183">Les données qui sont générées lors de l'exécution d'une file d'attente des travaux sont stockées dans la base de données, de sorte que vous puissiez résoudre les erreurs de la file d'attente des travaux.</span><span class="sxs-lookup"><span data-stu-id="cab62-183">Data that is generated when a job queue is run is stored in the database, so that you can troubleshoot job queue errors.</span></span>

### <a name="to-view-status-for-any-job"></a><span data-ttu-id="cab62-184">Pour visualiser l'état de tous les travaux</span><span class="sxs-lookup"><span data-stu-id="cab62-184">To view status for any job</span></span>
1. <span data-ttu-id="cab62-185">Choisissez l'icône ![Ampoule qui ouvre la fonction Tell Me](media/ui-search/search_small.png "Dites-moi ce que vous voulez faire"), entrez **Écritures file d'attente des travaux** , puis sélectionnez le lien associé.</span><span class="sxs-lookup"><span data-stu-id="cab62-185">Choose the ![Lightbulb that opens the Tell Me feature](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Job Queue Entries** , and then choose the related link.</span></span>
2. <span data-ttu-id="cab62-186">Sur la page **Écritures file d'attente des travaux** , sélectionnez une écriture file d'attente des travaux, puis sélectionnez l'action **Écritures journal** .</span><span class="sxs-lookup"><span data-stu-id="cab62-186">On the **Job Queue Entries** page, select a job queue entry, and then choose the **Log Entries** action.</span></span>  

### <a name="to-view-status-from-a-sales-or-purchase-document"></a><span data-ttu-id="cab62-187">Pour afficher l'état à partir d'un document vente ou achat</span><span class="sxs-lookup"><span data-stu-id="cab62-187">To view status from a sales or purchase document</span></span>
1. <span data-ttu-id="cab62-188">Dans le document que vous avez essayé de reporter avec le report en arrière-plan, choisissez le champ **État de la file d'attente des travaux** , qui contient **Erreur** .</span><span class="sxs-lookup"><span data-stu-id="cab62-188">From the document that you have tried to post with background posting, choose the **Job Queue Status** field, which will contain **Error** .</span></span>
2. <span data-ttu-id="cab62-189">Examinez le message d’erreur et résolvez le problème.</span><span class="sxs-lookup"><span data-stu-id="cab62-189">Review the error message and fix the problem.</span></span>

## <a name="the-my-job-queue-part"></a><span data-ttu-id="cab62-190">Composant Ma file d'attente des travaux</span><span class="sxs-lookup"><span data-stu-id="cab62-190">The My Job Queue Part</span></span>
<span data-ttu-id="cab62-191">Le composant **Ma file d'attente des travaux** sur votre Tableau de bord répertorie les écritures files d'attente des travaux que vous avez commencées, mais qui ne sont pas encore terminées.</span><span class="sxs-lookup"><span data-stu-id="cab62-191">The **My Job Queue** part on your Role Center shows the job queues entries that you have started, but which are not yet finished.</span></span> <span data-ttu-id="cab62-192">Par défaut, le composant n'est pas visible et vous devez donc l'ajouter à votre tableau de bord.</span><span class="sxs-lookup"><span data-stu-id="cab62-192">By default, the part is not visible, so you have to add it to your Role Center.</span></span> <span data-ttu-id="cab62-193">Pour plus d'informations, voir [Personnaliser votre espace de travail](ui-personalization-user.md).</span><span class="sxs-lookup"><span data-stu-id="cab62-193">For more information, see [Personalize Your Workspace](ui-personalization-user.md).</span></span>  

<span data-ttu-id="cab62-194">Le composant indique les documents avec votre code dans le champ **Code utilisateur affecté** qui sont en cours de traitement ou en attente, y compris ceux associés au report en arrière-plan.</span><span class="sxs-lookup"><span data-stu-id="cab62-194">The part shows which documents with your ID in the **Assigned User ID** field are being processed or are queued, including those related to background posting.</span></span> <span data-ttu-id="cab62-195">La composante peut vous indiquer rapidement s’il y a eu une erreur lors du report d’un document ou s’il existe des erreurs dans une écriture de file d'attente projet.</span><span class="sxs-lookup"><span data-stu-id="cab62-195">The part can tell you at a glance whether there has been an error in the posting of a document or if there are errors in a job queue entry.</span></span> <span data-ttu-id="cab62-196">Elle vous permet également d'annuler un report de document en cas de non-exécution.</span><span class="sxs-lookup"><span data-stu-id="cab62-196">The part also lets you cancel a document posting if it is not running.</span></span>

### <a name="to-view-an-error-from-the-my-job-queue-part"></a><span data-ttu-id="cab62-197">Pour afficher une erreur dans le composant Ma file d'attente des travaux</span><span class="sxs-lookup"><span data-stu-id="cab62-197">To view an error from the My Job Queue part</span></span>
1. <span data-ttu-id="cab62-198">Sur une écriture ayant l'état **Erreur** , sélectionnez l'action **Afficher erreur** .</span><span class="sxs-lookup"><span data-stu-id="cab62-198">On an entry with the status **Error** , choose the **Show Error** action.</span></span>
2. <span data-ttu-id="cab62-199">Examinez le message d’erreur et résolvez le problème.</span><span class="sxs-lookup"><span data-stu-id="cab62-199">Review the error message and fix the problem.</span></span>

## <a name="security"></a><span data-ttu-id="cab62-200">Sécurité</span><span class="sxs-lookup"><span data-stu-id="cab62-200">Security</span></span>  
<span data-ttu-id="cab62-201">Les écritures file d'attente des travaux s'exécutent sur la base d'autorisations.</span><span class="sxs-lookup"><span data-stu-id="cab62-201">Job queue entries run based on permissions.</span></span> <span data-ttu-id="cab62-202">Ces autorisations doivent permettre l'exécution du rapport ou du codeunit.</span><span class="sxs-lookup"><span data-stu-id="cab62-202">Those permissions must allow the execution of the report or codeunit.</span></span>  

<span data-ttu-id="cab62-203">Lorsqu'une file d'attente des travaux est activée manuellement, elle s'exécute avec les informations d'identification de l'utilisateur.</span><span class="sxs-lookup"><span data-stu-id="cab62-203">When a job queue is activated manually, it is run with the credentials of the user.</span></span> <span data-ttu-id="cab62-204">Lorsqu'une file d'attente des travaux est activée en tant que tâche programmée, elle s'exécute avec les informations d'identification de l'instance du serveur.</span><span class="sxs-lookup"><span data-stu-id="cab62-204">When a job queue is activated as a scheduled task, it is run with the credentials of the server instance.</span></span> <span data-ttu-id="cab62-205">Un projet s'exécute avec les informations d'identification de la file d'attente des travaux qui l'active.</span><span class="sxs-lookup"><span data-stu-id="cab62-205">When a job is run, it is run with the credentials of the job queue that activates it.</span></span> <span data-ttu-id="cab62-206">L'utilisateur qui a créé cette écriture file d'attente des travaux doit toutefois disposer d'autorisations.</span><span class="sxs-lookup"><span data-stu-id="cab62-206">However, the user who created that job queue entry must also have permissions.</span></span> <span data-ttu-id="cab62-207">Lorsqu’un projet est « exécuté dans la session utilisateur » (par exemple, durant le report en arrière-plan), il est exécuté avec les informations d’identification de l’utilisateur qui a créé ce projet.</span><span class="sxs-lookup"><span data-stu-id="cab62-207">When a job is "run in user session" (such as during background posting), it is run with the credentials of the user who created that job.</span></span>  

> [!IMPORTANT]  
> <span data-ttu-id="cab62-208">Si vous utilisez l'ensemble d'autorisations SUPER qui est fourni avec [!INCLUDE[d365fin](includes/d365fin_md.md)], les utilisateurs et vous-même disposez des autorisations pour exécuter tous les objets.</span><span class="sxs-lookup"><span data-stu-id="cab62-208">If you use the SUPER permissions set that comes with [!INCLUDE[d365fin](includes/d365fin_md.md)], you and your users have permissions to run all objects.</span></span> <span data-ttu-id="cab62-209">Dans ce cas, l'accès accordé à chaque utilisateur est uniquement limité par les autorisations relatives aux données.</span><span class="sxs-lookup"><span data-stu-id="cab62-209">In this case, access for each user is only limited by permissions for data.</span></span>  

## <a name="using-job-queues-effectively"></a><span data-ttu-id="cab62-210">Utilisation efficace des files d'attente des travaux</span><span class="sxs-lookup"><span data-stu-id="cab62-210">Using Job Queues Effectively</span></span>  
<span data-ttu-id="cab62-211">L'enregistrement des écritures file d'attente des travaux possède plusieurs champs dont l'objectif est d'exécuter des paramètres dans un codeunit que vous avez indiqué comme devant être exécuté avec une file d'attente des travaux.</span><span class="sxs-lookup"><span data-stu-id="cab62-211">The job queue entry record has many fields whose purpose is to carry parameters into a codeunit that you have specified to be run with a job queue.</span></span> <span data-ttu-id="cab62-212">Cela signifie également que les codeunits devant être exécutés via la file d'attente des travaux doivent être indiqués avec l'enregistrement des écritures file d'attente des travaux en tant que paramètre dans le déclencheur **OnRun** .</span><span class="sxs-lookup"><span data-stu-id="cab62-212">This also means that codeunits that are to be run via the job queue must be specified with the Job Queue Entry record as a parameter in the **OnRun** trigger.</span></span> <span data-ttu-id="cab62-213">Un niveau de sécurité supplémentaire est ainsi assuré, car les utilisateurs ne peuvent pas exécuter de codeunits aléatoires via la file d'attente des travaux.</span><span class="sxs-lookup"><span data-stu-id="cab62-213">This helps provide an extra level of security, as this prevents users from running random codeunits via the job queue.</span></span> <span data-ttu-id="cab62-214">Si l'utilisateur doit transmettre des paramètres à un rapport, il n'a d'autre choix que celui d'inclure l'exécution du rapport dans un codeunit, lequel analyse ensuite les paramètres d'entrée et les intègre dans le rapport avant de l'exécuter.</span><span class="sxs-lookup"><span data-stu-id="cab62-214">If the user must pass parameters to a report, the only way to do this is by wrapping the report execution into a codeunit, which then parses the input parameters and enters them into the report before executing it.</span></span>  

## <a name="scheduling-synchronization-between-d365fin-and-d365fin"></a><span data-ttu-id="cab62-215">Planification de la synchronisation entre [!INCLUDE[d365fin](includes/d365fin_md.md)] et [!INCLUDE[d365fin](includes/cds_long_md.md)]</span><span class="sxs-lookup"><span data-stu-id="cab62-215">Scheduling Synchronization Between [!INCLUDE[d365fin](includes/d365fin_md.md)] and [!INCLUDE[d365fin](includes/cds_long_md.md)]</span></span>

<span data-ttu-id="cab62-216">Si vous avez intégré [!INCLUDE[d365fin](includes/d365fin_md.md)] à [!INCLUDE[d365fin](includes/cds_long_md.md)], vous pouvez utiliser la file d'attente des travaux pour programmer à quel moment vous souhaitez synchroniser les données des enregistrements que vous avez couplés dans les deux applications métier.</span><span class="sxs-lookup"><span data-stu-id="cab62-216">If you have integrated [!INCLUDE[d365fin](includes/d365fin_md.md)] with [!INCLUDE[d365fin](includes/cds_long_md.md)], you can use the job queue to schedule when you want to synchronize data for the records that you have coupled in the two business apps.</span></span> <span data-ttu-id="cab62-217">Selon la direction et les règles que vous avez définies pour l’intégration, les tâches de synchronisation peuvent également créer des enregistrements dans l’application de destination pour correspondre à ceux de la source.</span><span class="sxs-lookup"><span data-stu-id="cab62-217">Depending on the direction and rules that you have defined for the integration, the synchronization jobs can also create new records in the destination app to match those in the source.</span></span> <span data-ttu-id="cab62-218">Par exemple, si un représentant crée un contact dans [!INCLUDE[crm_md](includes/crm_md.md)], la tâche de synchronisation peut créer ce contact pour le représentant couplé dans [!INCLUDE[d365fin](includes/d365fin_md.md)].</span><span class="sxs-lookup"><span data-stu-id="cab62-218">For example, if a salesperson creates a new contact in [!INCLUDE[crm_md](includes/crm_md.md)], the synchronization job can create that contact for the coupled salesperson in [!INCLUDE[d365fin](includes/d365fin_md.md)].</span></span> <span data-ttu-id="cab62-219">Pour plus d’informations, voir [Planification d’une synchronisation entre Business Central et Dynamics 365 Sales](admin-scheduled-synchronization-using-the-synchronization-job-queue-entries.md).</span><span class="sxs-lookup"><span data-stu-id="cab62-219">For more information, see [Scheduling a Synchronization between Business Central and Dynamics 365 Sales](admin-scheduled-synchronization-using-the-synchronization-job-queue-entries.md).</span></span>

## <a name="see-also"></a><span data-ttu-id="cab62-220">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="cab62-220">See Also</span></span>

[<span data-ttu-id="cab62-221">Administration</span><span class="sxs-lookup"><span data-stu-id="cab62-221">Administration</span></span>](admin-setup-and-administration.md)  
[<span data-ttu-id="cab62-222">Configuration de Business Central</span><span class="sxs-lookup"><span data-stu-id="cab62-222">Setting Up Business Central</span></span>](setup.md)  
[<span data-ttu-id="cab62-223">Modifier les paramètres de base</span><span class="sxs-lookup"><span data-stu-id="cab62-223">Change Basic Settings</span></span>](ui-change-basic-settings.md)  
